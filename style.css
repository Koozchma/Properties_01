@import url('https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&family=Orbitron:wght@500;700&display=swap');

:root {
    --primary-accent-color: #00CFE8; /* Electric Blue/Cyan */
    --primary-accent-glow: rgba(0, 207, 232, 0.5);
    --primary-accent-darker: #00a7b3; /* For hover/active states */
    --primary-accent-darkest: #007B8A; /* For base button states before hover */

    --positive-color: #2ecc71; /* Green */
    --positive-color-darker: #27ae60;
    --positive-glow: rgba(46, 204, 113, 0.5);

    --negative-color: #e74c3c; /* Red */

    --thematic-gold-color: #f0a500;

    --base-bg-color: #1a1a2e;
    --container-bg-color: #162447;
    --section-bg-color: #1b1b2f; /* Also for active tab */
    --card-bg-color: #2c3e50;   /* Also for inactive tab */

    --text-light-primary: #e0e0e0;
    --text-light-secondary: #bdc3c7;
    --text-light-tertiary: #95a5a6;
    --text-bright-neutral: #ecf0f1;
    --text-dark-contrast: #162447; /* For text on bright primary accent backgrounds */


    --border-dark-accent: #1f4068;
    --disabled-bg-color: #7f8c8d;
    --disabled-text-color: #bdc3c7;
}

body {
    font-family: 'Roboto', sans-serif;
    background-color: var(--base-bg-color);
    color: var(--text-light-primary);
    margin: 0;
    padding: 20px;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    line-height: 1.6;
}

.container {
    background-color: var(--container-bg-color);
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
    width: 100%;
    max-width: 1000px;
}

/* Sticky Header Area Styling */
.sticky-top-area {
    position: -webkit-sticky; /* For Safari */
    position: sticky;
    top: 0;
    z-index: 1000;
    background-color: var(--container-bg-color); /* Match container background */
    padding-bottom: 15px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.2);
}

header { /* Game Title Header */
    text-align: center;
    margin-bottom: 20px;
    padding-bottom: 15px;
    border-bottom: 2px solid var(--border-dark-accent);
}

header h1 { /* Realm Tycoon: Ascendancy */
    font-family: 'Orbitron', sans-serif;
    color: var(--primary-accent-color);
    font-size: 2.8em;
    margin: 0;
    text-shadow: 0 0 10px var(--primary-accent-glow);
}

/* Stats Section Styling (within sticky area) */
#stats-section {
     margin-bottom: 0;
     padding: 15px 20px 0 20px;
     background-color: transparent;
     border-radius: 0;
     box-shadow: none;
}
#stats-section h2 { /* "Your Empire" title */
    font-family: 'Orbitron', sans-serif;
    color: var(--text-bright-neutral);
    margin-top: 0;
    padding-bottom: 10px;
    font-size: 1.8em;
    border-bottom: 1px solid var(--border-dark-accent);
}

.stats-display { /* The Gold and IPS boxes */
    display: flex;
    justify-content: space-around;
    align-items: center;
    font-size: 1.2em;
    font-weight: 500;
    padding: 10px 0;
    border-radius: 6px;
}

.stats-display p {
    margin: 5px 10px;
    padding: 10px 20px;
    border-radius: 4px;
    background-color: var(--border-dark-accent);
    min-width: 200px;
    text-align: center;
}

.stats-display span {
    font-weight: 700;
    color: #ffffff; /* White for numbers */
    margin-left: 8px;
    font-size: 1.3em;
}
#goldDisplay { color: var(--thematic-gold-color); }
#ipsDisplay { color: var(--positive-color); }


/* Tab Navigation */
.tab-navigation {
    display: flex;
    flex-wrap: wrap; /* Allow tabs to wrap on smaller screens */
    margin-bottom: 25px;
}

.tab-button {
    font-family: 'Orbitron', sans-serif;
    padding: 12px 20px; /* Adjusted padding for potentially more tabs */
    cursor: pointer;
    border: none;
    border-bottom: 3px solid transparent;
    background-color: var(--card-bg-color); /* Inactive tab */
    color: var(--text-light-secondary);
    font-size: 1.05em; /* Slightly smaller if more tabs */
    font-weight: 500;
    margin-right: 8px;
    margin-bottom: 5px; /* For wrapping */
    border-radius: 6px 6px 0 0;
    transition: background-color 0.3s, color 0.3s, border-bottom-color 0.3s;
}

.tab-button:hover {
    background-color: var(--border-dark-accent);
    color: #ffffff;
}

.tab-button.active {
    background-color: var(--section-bg-color); /* Active tab matches section */
    color: var(--primary-accent-color);
    border-bottom-color: var(--primary-accent-color);
}

/* Tab Panels & Content Sections */
#tabContentContainer { }

.tab-panel { display: none; }
.tab-panel.active { display: block; }

/* Styling for the sections INSIDE the tabs */
#properties-section-content,
#owned-properties-section-content,
#achievements-section-content,
#ascendancy-section-content { /* Added ascendancy section */
    margin-bottom: 0;
    padding: 20px;
    background-color: var(--section-bg-color);
    border-radius: 8px;
}

#properties-section-content h2,
#owned-properties-section-content h2,
#achievements-section-content h2,
#ascendancy-section-content h2 { /* Added ascendancy section */
    font-family: 'Orbitron', sans-serif;
    color: var(--text-bright-neutral); /* Default for most section titles */
    margin-top: 0;
    border-bottom: 1px solid var(--border-dark-accent);
    padding-bottom: 10px;
    font-size: 1.8em;
}
/* Specific title color for Ascendancy tab */
#ascendancy-section-content h2 {
    color: var(--primary-accent-color);
}


/* Properties Grid (applies within active tab) */
.properties-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 20px;
}

.property-card {
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-dark-accent);
    border-radius: 8px;
    padding: 18px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
    transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}

.property-card:hover {
    transform: translateY(-5px);
    box-shadow: 0 6px 18px rgba(0, 0, 0, 0.3);
}

.property-card h3 { /* Property Names */
    margin-top: 0;
    margin-bottom: 10px;
    color: var(--primary-accent-color);
    font-size: 1.4em;
    font-family: 'Roboto', sans-serif;
    font-weight: 500;
}

.property-card p {
    margin: 8px 0;
    font-size: 0.95em;
    color: var(--text-light-secondary);
}

.property-card .description {
    font-style: italic;
    font-size: 0.9em;
    color: var(--text-light-tertiary);
    margin-bottom: 12px;
    min-height: 40px;
}

.property-cost { font-weight: bold; }
.property-cost.unaffordable { color: var(--negative-color); }
.property-cost.affordable { color: var(--positive-color); }


/* Tier Indicators - More Uniform */
.tier-indicator {
    font-size: 0.8em;
    font-weight: bold;
    padding: 3px 8px;
    border-radius: 4px;
    color: var(--text-bright-neutral);
    background-color: var(--border-dark-accent);
    margin-bottom: 8px;
    display: inline-block;
}

/* Level Progress Bar */
.level-progress-container {
    width: 100%;
    background-color: var(--border-dark-accent);
    border-radius: 4px;
    height: 12px;
    margin: 8px 0;
    overflow: hidden;
}

.level-progress-bar {
    height: 100%;
    background-color: var(--primary-accent-color);
    border-radius: 4px 0 0 4px;
    transition: width 0.3s ease-out;
    text-align: center;
    font-size: 0.7em;
    line-height: 12px;
    color: var(--text-dark-contrast);
}

.owned-property-details p { margin: 6px 0; }
.owned-property-details .income-gain { color: var(--positive-color); font-weight: 500; }

/* Buttons */
.property-card button, .ascend-action-button, .prestige-upgrade-card button { /* General button styling */
    color: white;
    border: none;
    padding: 12px 18px;
    text-align: center;
    text-decoration: none;
    display: block;
    width: 100%;
    font-size: 1.1em;
    font-weight: 500;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.2s, transform 0.1s, box-shadow 0.2s;
    margin-top: 10px;
    box-sizing: border-box;
}

/* Default Purchase Button Style */
.property-card button.purchase-button, .buy-multiple-button { /* Includes buy multiple here */
    background-color: var(--primary-accent-darkest);
}
.property-card button.purchase-button:hover:not(:disabled), .buy-multiple-button:hover:not(:disabled) {
    background-color: var(--primary-accent-darker) !important; /* Important for buy-multiple override */
    transform: translateY(-1px);
}
.property-card button.purchase-button.btn-affordable, .buy-multiple-button.btn-affordable {
    background-color: var(--primary-accent-color) !important; /* Important for buy-multiple override */
    box-shadow: 0 0 10px var(--primary-accent-glow);
}


/* Upgrade Button Style */
.property-card button.upgrade-button {
    background-color: var(--positive-color-darker);
}
.property-card button.upgrade-button:hover:not(:disabled) {
    background-color: var(--positive-color);
    transform: translateY(-1px);
}
.property-card button.upgrade-button.btn-affordable {
     background-color: var(--positive-color);
     box-shadow: 0 0 10px var(--positive-glow);
}

/* General button states */
button:active:not(:disabled) { transform: translateY(0px); } /* Applied more broadly */
button:disabled { /* Applied more broadly */
    background-color: var(--disabled-bg-color) !important; /* Important to override specifics */
    color: var(--disabled-text-color) !important;
    cursor: not-allowed;
    opacity: 0.7;
    box-shadow: none !important;
}

/* Buy Multiple Options */
.buy-options {
    display: grid;
    grid-template-columns: repeat(2, 1fr); /* 2x2 layout */
    gap: 8px;
    margin-top: 15px;
}

.buy-multiple-button {
    padding: 8px 5px !important;
    font-size: 0.9em !important;
    margin-top: 0 !important;
}


/* Notification Area */
#notificationArea {
    position: fixed;
    top: 20px;
    right: 20px;
    z-index: 3000;
    display: flex;
    flex-direction: column;
    align-items: flex-end;
    width: 320px; /* Max width for notifications */
}

.achievement-notification { /* Can be a generic .notification class */
    background-color: var(--primary-accent-color);
    color: var(--text-dark-contrast);
    padding: 15px 20px; /* Adjusted padding */
    border-radius: 8px;
    box-shadow: 0 4px 15px var(--primary-accent-glow);
    margin-bottom: 10px;
    font-family: 'Roboto', sans-serif;
    font-size: 1.05em; /* Adjusted font size */
    opacity: 1;
    transition: opacity 0.5s ease-out, transform 0.5s ease-out;
    transform: translateX(0);
    width: 100%;
    box-sizing: border-box;
    cursor: pointer; /* Allow clicking to dismiss maybe? */
}
.achievement-notification.error-notification { /* For save/load errors etc. */
    background-color: var(--negative-color);
    color: white;
    box-shadow: 0 4px 15px rgba(231, 76, 60, 0.5);
}

.achievement-notification.fade-out {
    opacity: 0;
    transform: translateX(110%);
}


/* Achievements Tab */
.achievements-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 15px;
}

.achievement-card {
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-dark-accent);
    padding: 15px;
    border-radius: 8px;
    display: flex;
    align-items: center;
    opacity: 0.6;
    transition: opacity 0.3s, border-left-color 0.3s;
    border-left: 5px solid transparent;
}

.achievement-card.unlocked {
    opacity: 1;
    border-left-color: var(--primary-accent-color);
}

.achievement-icon {
    font-size: 2.5em;
    margin-right: 15px;
    flex-shrink: 0;
}

.achievement-info { flex-grow: 1; }

.achievement-info h4 {
    font-family: 'Orbitron', sans-serif;
    color: var(--text-light-secondary);
    margin: 0 0 5px 0;
}
.achievement-card.unlocked .achievement-info h4 {
    color: var(--primary-accent-color);
}


.achievement-info p {
    font-size: 0.9em;
    color: var(--text-light-tertiary);
    margin: 0;
}

.achievement-status {
    margin-left: auto;
    font-weight: bold;
    font-size: 0.9em;
    padding-left: 10px;
    flex-shrink: 0;
}
.achievement-card.unlocked .achievement-status { color: var(--positive-color); }
.achievement-card:not(.unlocked) .achievement-status { color: var(--text-light-tertiary); }

/* Ascendancy Tab Styles */
.ascendancy-status {
    background-color: var(--card-bg-color);
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 20px;
    border: 1px solid var(--border-dark-accent);
}
.ascendancy-status p { margin: 8px 0; font-size: 1.1em; }
.ascendancy-status span { font-weight: bold; color: var(--text-bright-neutral); }
#potentialShardsDisplay, #totalRealmShardsDisplay, #shopRealmShardsDisplay {
    color: var(--primary-accent-color); /* Highlight shards */
}

.ascend-info-text {
    margin-bottom: 20px;
    padding: 10px 15px;
    background-color: rgba(0,0,0,0.1);
    border-left: 4px solid var(--primary-accent-color);
    font-size: 1em;
    color: var(--text-light-secondary);
    border-radius: 0 4px 4px 0;
}

.ascend-action-button { /* For the main ASCEND button */
    display: block;
    width: 100%;
    max-width: 400px;
    margin: 20px auto;
    padding: 15px 20px;
    font-family: 'Orbitron', sans-serif;
    font-size: 1.4em;
    font-weight: bold;
    /* color and background handled by general button rules or :disabled */
}
.ascend-action-button:not(:disabled) { /* Specific enabled state for Ascend */
    background-color: var(--primary-accent-color);
    color: var(--text-dark-contrast);
    box-shadow: 0 0 15px var(--primary-accent-glow);
}
.ascend-action-button:not(:disabled):hover {
    background-color: var(--primary-accent-darker);
    transform: scale(1.02);
}


.ascend-divider {
    border: 0;
    height: 1px;
    background-image: linear-gradient(to right, transparent, var(--border-dark-accent), transparent);
    margin: 30px 0;
}

.prestige-shop-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    gap: 15px;
    margin-top: 15px;
}

.prestige-upgrade-card {
    background-color: var(--card-bg-color);
    border: 1px solid var(--border-dark-accent);
    padding: 15px;
    border-radius: 6px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.prestige-upgrade-card h4 {
    color: var(--primary-accent-color);
    margin-top: 0;
    font-size: 1.1em;
}
.prestige-upgrade-card p { font-size: 0.9em; margin-bottom: 10px; }
.prestige-upgrade-card .cost { font-weight: bold; color: var(--primary-accent-color); }
.prestige-upgrade-card button { /* Uses general button styling now */
    padding: 8px 15px;
    font-size: 0.95em;
    background-color: var(--primary-accent-darkest); /* Base state */
}
/* Hover and btn-affordable states will be inherited if classes are applied */


/* Offline Progress Popup */
.offline-progress-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background-color: var(--section-bg-color);
    color: var(--text-light-primary);
    padding: 30px 40px;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
    z-index: 2000;
    text-align: center;
    border: 1px solid var(--primary-accent-color);
    width: 90%;
    max-width: 450px;
    box-sizing: border-box;
}

.offline-progress-popup h3 {
    font-family: 'Orbitron', sans-serif;
    color: var(--primary-accent-color);
    margin-top: 0;
    margin-bottom: 15px;
    font-size: 1.8em;
}

.offline-progress-popup p { margin: 10px 0; font-size: 1.1em; }

.offline-progress-popup .highlight {
    color: var(--thematic-gold-color);
    font-weight: bold;
    font-size: 1.2em;
}

.offline-progress-popup button {
    background-color: var(--primary-accent-color);
    color: var(--text-dark-contrast);
    font-family: 'Orbitron', sans-serif;
    /* border: none; (from general button) */
    padding: 12px 25px;
    font-size: 1.1em;
    /* border-radius: 6px; (from general button) */
    cursor: pointer;
    margin-top: 20px;
    /* transition: background-color 0.2s; (from general button) */
}

.offline-progress-popup button:hover {
    background-color: var(--primary-accent-darker);
}


footer {
    text-align: center;
    margin-top: 40px;
    padding-top: 20px;
    border-top: 1px solid var(--border-dark-accent);
    font-size: 0.9em;
    color: var(--text-light-tertiary);
}

.prestige-upgrade-card .current-bonus-text {
    font-style: italic;
    color: var(--text-light-tertiary);
    font-size: 0.85em;
    display: block; /* Ensure it's on its own line if part of description */
    margin-top: 3px;
}
